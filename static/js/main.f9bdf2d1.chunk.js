(this.webpackJsonpsuperheroes=this.webpackJsonpsuperheroes||[]).push([[0],{45:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),s=a.n(c),i=(a(45),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))}),o=a(8),l=a(2),j=a(23),d=a.n(j),b=a(36),u=a(10),h=a(1),p=function(){var e=Object(n.useContext)(y),t=(e.token,e.setToken);return Object(h.jsx)("button",{id:"logout",onClick:function(e){e.preventDefault(),localStorage.setItem("loginToken",""),t()},children:"Logout"})},O=function(e){e.history;var t=Object(n.useContext)(I),a=t.team,r=t.setTeam,c=Object(n.useContext)(y),s=c.token,i=c.setToken,l=Object(n.useState)(0),j=Object(o.a)(l,2),O=j[0],m=j[1],x=Object(n.useState)([]),g=Object(o.a)(x,2),f=g[0],v=g[1],N=Object(n.useState)({inteligencia:0,fuerza:0,velocidad:0,durabilidad:0,poder:0,combate:0,peso:0,altura:0}),w=Object(o.a)(N,2),k=w[0],S=w[1];function C(e){return T.apply(this,arguments)}function T(){return(T=Object(b.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=a).forEach((function(e,a){e.id!==t.target.id||(c=a)})),n.splice(c,1),e.next=6,r(n);case 6:m((function(e){return++e}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){console.log(k);var e={inteligencia:0,fuerza:0,velocidad:0,durabilidad:0,poder:0,combate:0,peso:0,altura:0},t=0,n=0;a.forEach((function(a){if(e.inteligencia=isNaN(parseInt(a.powerstats.intelligence))?e.inteligencia:e.inteligencia+parseInt(a.powerstats.intelligence),e.fuerza=isNaN(parseInt(a.powerstats.strength))?e.fuerza:e.fuerza+parseInt(a.powerstats.strength),e.velocidad=isNaN(parseInt(a.powerstats.speed))?e.velocidad:e.velocidad+parseInt(a.powerstats.speed),e.durabilidad=isNaN(parseInt(a.powerstats.durability))?e.durabilidad:e.durabilidad+parseInt(a.powerstats.durability),e.poder=isNaN(parseInt(a.powerstats.power))?e.poder:e.poder+parseInt(a.powerstats.power),e.combate=isNaN(parseInt(a.powerstats.combat))?e.combate:e.combate+parseInt(a.powerstats.combat)," cm"===a.appearance.height[1].slice(-3)){var r=a.appearance.height[1].split(" ");r=parseInt(r[0]),t+=r}if(" kg"===a.appearance.weight[1].slice(-3)){var c=a.appearance.weight[1].split(" ");c=parseInt(c[0]),n+=c}})),t=0===a.length?0:t/a.length,n=0===a.length?0:n/a.length,e.altura=t,e.peso=n,console.log(e);var r,c=Object.entries(e),s=0;c.map((function(e,t){"peso"!==e[0]&&"altura"!==e[0]&&e[1]>s&&(s=e[1],r=t)}));var i=c.splice(r,1);console.log(i),c.unshift(i[0]),console.log(c),S(e),v(c)}),[O]),Object(n.useEffect)((function(){s!==localStorage.getItem("loginToken")&&(localStorage.setItem("loginToken",""),i())})),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(p,{}),Object(h.jsx)("h1",{children:"EQUIPO"}),Object(h.jsx)(u.b,{to:"/search",children:"Ir a b\xfasqueda"}),Object(h.jsx)("div",{id:"cumulative",className:"container",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"ACUMULATIVO"}),0!==f.length&&f.map((function(e){if("altura"!==e[0]&&"peso"!==e[0])return Object(h.jsxs)("span",{children:[Object(h.jsxs)("b",{children:[e[0],":"]})," ",e[1]]})})),Object(h.jsx)("h3",{children:"PROMEDIOS"}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Altura:"})," ",k.altura]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Peso:"})," ",k.peso]})]})}),0===a.length?Object(h.jsx)("div",{children:"No hay miembros en el equipo todav\xeda."}):Object(h.jsx)("div",{id:"team",className:"container",children:Object(h.jsx)("div",{className:"row",children:a.map((function(e){return Object(h.jsxs)("div",{className:"col-6",children:[Object(h.jsx)("img",{src:e.image.url}),Object(h.jsx)("h1",{children:e.name}),Object(h.jsxs)("div",{children:[Object(h.jsx)(u.b,{to:"/details/".concat(e.id),children:"Ver Detalle"}),Object(h.jsx)("a",{id:e.id,href:"",onClick:C,children:"Eliminar"})]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Inteligencia:"})," ",e.powerstats.intelligence]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Fuerza:"})," ",e.powerstats.strength]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Velocidad:"})," ",e.powerstats.speed]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Durabilidad:"})," ",e.powerstats.durability]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Poder:"})," ",e.powerstats.power]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Combate:"})," ",e.powerstats.combat]})]})}))})})]})})},m=a(40),x=a(13),g=a.n(x),f=a(9),v=function(){var e=Object(n.useContext)(I),t=e.team,a=e.setTeam,r=Object(n.useContext)(y),c=r.token,s=r.setToken,i=Object(n.useContext)(C),l=Object(n.useState)([]),j=Object(o.a)(l,2),d=j[0],b=j[1];function O(e){if(e.preventDefault(),0===t.length||0===t.filter((function(t){return t.id===e.target.id})).length)if(t.length<6){var n=d.filter((function(t){if(t.id===e.target.id)return!0}));if(t.filter((function(e){return"bad"===e.biography.alignment})).length<3&&"bad"===n[0].biography.alignment||t.filter((function(e){return"good"===e.biography.alignment})).length<3&&"good"===n[0].biography.alignment){var r=d;r=r.filter((function(t){if(t.id!==e.target.id)return!0})),a([].concat(Object(m.a)(t),[n[0]])),b(r)}else"good"!==n[0].biography.alignment&&"bad"!==n[0].biography.alignment?alert("En el equipo solamente pueden agregarse personajes que sean buenos o malos."):alert("En el equipo solamente pueden agregarse hasta tres miembros buenos y hasta tres miembros malos. Est\xe1s agregando uno de m\xe1s.")}else alert("El equipo puede tener hasta 6 miembros");else alert("Este superh\xe9roe ya est\xe1 agregado al equipo.")}return Object(n.useEffect)((function(){c!==localStorage.getItem("loginToken")&&(localStorage.setItem("loginToken",""),s())})),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{id:"search",className:"container",children:[Object(h.jsx)(p,{}),Object(h.jsx)("h1",{children:"BUSCADOR"}),Object(h.jsx)(u.b,{to:"/",children:"Volver a Home"}),Object(h.jsx)(f.d,{initialValues:{heroName:""},onSubmit:function(e,t){var a=t.resetForm;g()({method:"get",url:"".concat(i,"search/").concat(e.heroName)}).then((function(e){if(console.log(e.data),e.data.error)alert(e.data.error),b([]),a();else if(void 0!==e.data.results){var t=e.data.results;b(t)}})).catch((function(e){alert(e),a()}))},validate:function(e){var t={};return e.heroName||(t.heroName="Por favor ingresar un nombre de personaje para buscar."),t},children:function(e){var t=e.errors;return Object(h.jsxs)(f.c,{children:[Object(h.jsx)("div",{children:Object(h.jsx)(f.b,{name:"heroName",type:"text",placeholder:"Ingresa un nombre para buscar"})}),Object(h.jsx)("div",{className:"error",children:Object(h.jsx)(f.a,{name:"heroName",component:function(){return Object(h.jsx)("span",{className:"text-danger",children:t.heroName})}})}),Object(h.jsx)("input",{type:"submit",value:"Buscar"})]})}})]}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row",children:0!==d.length&&d.map((function(e){return Object(h.jsxs)("div",{className:"col-4",children:[Object(h.jsx)("img",{src:e.image.url}),Object(h.jsx)("span",{children:e.name}),Object(h.jsx)("button",{id:e.id,onClick:O,children:"Agregar al equipo"})]})}))})})]})},N=function(e){var t=e.match,a=Object(n.useState)(),r=Object(o.a)(a,2),c=r[0],s=r[1],i=Object(n.useContext)(C),l=Object(n.useContext)(y),j=l.token,d=l.setToken;return Object(n.useEffect)((function(){void 0!==c&&null!==c||g.a.get("".concat(i).concat(t.params.id)).then((function(e){console.log(e.data),s(e.data)}))})),Object(n.useEffect)((function(){j!==localStorage.getItem("loginToken")&&(localStorage.setItem("loginToken",""),d())})),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{id:"detailContainer",className:"container",children:[Object(h.jsx)(p,{}),null!==c&&void 0!==c?Object(h.jsx)("div",{className:"detail",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:c.name}),Object(h.jsx)(u.b,{to:"/",children:"Volver a Home"}),Object(h.jsx)("img",{src:c.image.url}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Peso:"})," ",c.appearance.weight[0]+" / "+c.appearance.weight[1]]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Altura:"})," ",c.appearance.height[0]+" / "+c.appearance.height[1]]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Alias:"})," ",c.biography.aliases.map((function(e,t){return t<c.biography.aliases.length-1?e+", ":e+"."}))]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Color de ojos:"})," ",c.appearance["eye-color"]]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Color de cabello:"})," ",c.appearance["hair-color"]]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("b",{children:"Lugar de trabajo:"})," ",c.work.base]})]})}):""]})})},I=r.a.createContext(),w=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(h.jsx)(I.Provider,{value:{team:a,setTeam:r},children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/",component:O}),Object(h.jsx)(l.b,{exact:!0,path:"/search",component:v}),Object(h.jsx)(l.b,{exact:!0,path:"/details/:id",component:N}),Object(h.jsx)(l.a,{to:"/"})]})})},k=function(){var e=Object(n.useContext)(y),t=(e.token,e.setToken);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{children:"INICIAR SESI\xd3N"}),Object(h.jsx)(f.d,{initialValues:{mail:"",pass:""},onSubmit:function(e,a){var n=a.resetForm;g()({method:"post",url:"http://challenge-react.alkemy.org/",data:{email:e.mail,password:e.pass}}).then((function(e){localStorage.setItem("loginToken",e.data.token),t(e.data.token)})).catch((function(e){alert(e),n()}))},validate:function(e){var t={};return e.mail||(t.mail="Por favor ingresar un e-mail para continuar."),e.pass||(t.pass="Por favor ingresa una contrase\xf1a para continuar."),t},children:function(e){var t=e.errors;return Object(h.jsxs)(f.c,{children:[Object(h.jsx)("div",{children:Object(h.jsx)(f.b,{name:"mail",type:"text"})}),Object(h.jsx)("div",{className:"error",children:Object(h.jsx)(f.a,{name:"mail",component:function(){return Object(h.jsx)("span",{className:"text-danger",children:t.mail})}})}),Object(h.jsx)("div",{children:Object(h.jsx)(f.b,{name:"pass",type:"password"})}),Object(h.jsx)("div",{className:"error",children:Object(h.jsx)(f.a,{name:"pass",component:function(){return Object(h.jsx)("span",{className:"text-danger",children:t.pass})}})}),Object(h.jsx)("input",{type:"submit",value:"Ingresar"})]})}})]})})},S=function(){return Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/",component:k}),Object(h.jsx)(l.a,{to:"/"})]})},y=r.a.createContext(),C=r.a.createContext(),T=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){""===a&&void 0!==localStorage.getItem("loginToken")&&r(localStorage.getItem("loginToken"))})),Object(h.jsx)(u.a,{children:Object(h.jsx)(C.Provider,{value:"https://www.superheroapi.com/api.php/10224262264160982/",children:Object(h.jsx)(y.Provider,{value:{token:a,setToken:r},children:""!==a&&localStorage.getItem("loginToken")===a?Object(h.jsx)(w,{}):Object(h.jsx)(S,{})})})})};a(74);s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(T,{})}),document.getElementById("root")),i()}},[[75,1,2]]]);
//# sourceMappingURL=main.f9bdf2d1.chunk.js.map